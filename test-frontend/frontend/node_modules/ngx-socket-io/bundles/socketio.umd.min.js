!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs/Observable"),require("rxjs/add/operator/share"),require("socket.io-client")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/Observable","rxjs/add/operator/share","socket.io-client"],t):t((e.ng=e.ng||{},e.ng.socketio=e.ng.socketio||{}),e.ng.core,e.Rx,null,e.io)}(this,function(e,t,o,r,n){"use strict";function i(e){return new s(e)}var c=n.default,s=function(){function e(e){this.subscribersCounter=0,this.emptyConfig={url:"",options:{}},void 0===e&&(e=this.emptyConfig);var t=e.url,o=e.options,r=c||n;this.ioSocket=r(t,o)}return e.prototype.on=function(e,t){this.ioSocket.on(e,t)},e.prototype.once=function(e,t){this.ioSocket.once(e,t)},e.prototype.connect=function(){return this.ioSocket.connect()},e.prototype.disconnect=function(e){return this.ioSocket.disconnect.apply(this.ioSocket,arguments)},e.prototype.emit=function(e,t,o){return this.ioSocket.emit.apply(this.ioSocket,arguments)},e.prototype.removeListener=function(e,t){return this.ioSocket.removeListener.apply(this.ioSocket,arguments)},e.prototype.removeAllListeners=function(e){return this.ioSocket.removeAllListeners.apply(this.ioSocket,arguments)},e.prototype.fromEvent=function(e){var t=this;return this.subscribersCounter++,o.Observable.create(function(o){return t.ioSocket.on(e,function(e){o.next(e)}),function(){1===t.subscribersCounter&&t.ioSocket.removeListener(e)}}).share()},e.prototype.fromOneTimeEvent=function(e){var t=this;return new Promise(function(o){return t.once(e,o)})},e}();s.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[u]}]}]};var u=new t.InjectionToken("__SOCKET_IO_CONFIG__"),p=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:u,useValue:t},{provide:s,useFactory:i,deps:[u]}]}},e}();p.decorators=[{type:t.NgModule,args:[{}]}],p.ctorParameters=function(){return[]},e.SocketIoModule=p,e.Socket=s,Object.defineProperty(e,"__esModule",{value:!0})});
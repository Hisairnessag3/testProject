{"version":3,"sources":["../../src/socket-io.module.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAA,EAA+B,cAAA,EAAe,MAAO,eAAA,CAAgB;AAE9E,OAAO,EAAE,aAAA,EAAc,MAAO,qBAAA,CAAsB;AAEpD,qBAAqB;AACrB,MAAM,wBAAwB,MAAQ;IAClC,MAAM,CAAC,IAAI,aAAA,CAAc,MAAC,CAAM,CAAC;AACrC,CAAC;AAED,MAAM,CAAC,IAAM,mBAAA,GAAsB,IAAI,cAAA,CAA8B,sBAAE,CAAsB,CAAC;AAG9F;IAAA;IAoBA,CAAC;IAnBU,sBAAO,GAAd,UAAe,MAAsB;QACjC,MAAM,CAAC;YACH,QAAQ,EAAE,cAAc;YACxB,SAAS,EAAE;gBACP,EAAE,OAAO,EAAE,mBAAmB,EAAE,QAAQ,EAAE,MAAM,EAAE;gBAClD;oBACI,OAAO,EAAE,aAAa;oBACtB,UAAU,EAAE,aAAa;oBACzB,IAAI,EAAG,CAAC,mBAAmB,CAAC;iBAC/B;aACJ;SACJ,CAAC;IACN,CAAC;IAOL,qBAAC;AAAD,CApBA,AAoBC;;AANO,yBAAU,GAA0B;IAC5C,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,EAAE,EAAG,EAAE;CAC/B,CAAC;AACF,kBAAkB;AACX,6BAAc,GAAmE,cAAM,OAAA,EAC7F,EAD6F,CAC7F,CAAC","file":"socket-io.module.js","sourceRoot":"","sourcesContent":["import { NgModule, ModuleWithProviders, InjectionToken } from '@angular/core';\r\nimport { SocketIoConfig } from './config/socket-io.config';\r\nimport { WrappedSocket } from './socket-io.service';\r\n\r\n/** Socket factory */\r\nexport function SocketFactory(config: SocketIoConfig) {\r\n    return new WrappedSocket(config);\r\n}\r\n\r\nexport const SOCKET_CONFIG_TOKEN = new InjectionToken<SocketIoConfig>('__SOCKET_IO_CONFIG__');\r\n\r\n\r\nexport class SocketIoModule {\r\n    static forRoot(config: SocketIoConfig): ModuleWithProviders {\r\n        return {\r\n            ngModule: SocketIoModule,\r\n            providers: [\r\n                { provide: SOCKET_CONFIG_TOKEN, useValue: config },\r\n                { \r\n                    provide: WrappedSocket,\r\n                    useFactory: SocketFactory,\r\n                    deps : [SOCKET_CONFIG_TOKEN]\r\n                }\r\n            ]\r\n        };\r\n    }\r\n static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}